(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"14J3":function(c,s,e){"use strict";var _=e("cIOH"),o=e.n(_),u=e("1GLa")},BMrR:function(c,s,e){"use strict";var _=e("qrJ5");s.a=_.a},Q9mQ:function(c,s,e){"use strict";var _=e("cIOH"),o=e.n(_),u=e("UADf"),P=e.n(u)},UADf:function(c,s,e){},bogI:function(c,s,e){"use strict";e.d(s,"a",function(){return _});var _=function(u){if(!u)return null;var P=typeof u=="function";return P?u():u}},diRs:function(c,s,e){"use strict";var _=e("wx14"),o=e("q1tI"),u=e.n(o),P=e("3S7+"),S=e("H84U"),C=e("bogI"),w=e("EXcs"),A=function(i,f){var p={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&f.indexOf(n)<0&&(p[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(i);l<n.length;l++)f.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(i,n[l])&&(p[n[l]]=i[n[l]]);return p},R=o.forwardRef(function(i,f){var p=i.prefixCls,n=i.title,l=i.content,B=A(i,["prefixCls","title","content"]),g=o.useContext(S.b),L=g.getPrefixCls,y=function(t){return o.createElement(o.Fragment,null,n&&o.createElement("div",{className:"".concat(t,"-title")},Object(C.a)(n)),o.createElement("div",{className:"".concat(t,"-inner-content")},Object(C.a)(l)))},T=L("popover",p),h=L();return o.createElement(P.a,Object(_.a)({},B,{prefixCls:T,ref:f,overlay:y(T),transitionName:Object(w.b)(h,"zoom-big",B.transitionName)}))});R.displayName="Popover",R.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}},s.a=R},jCWc:function(c,s,e){"use strict";var _=e("cIOH"),o=e.n(_),u=e("1GLa")},kPKH:function(c,s,e){"use strict";var _=e("/kpp");s.a=_.a},qq80:function(c,s,e){"use strict";e.r(s);var _=e("14J3"),o=e("BMrR"),u=e("+L6B"),P=e("2/Rp"),S=e("jCWc"),C=e("kPKH"),w=e("Q9mQ"),A=e("diRs"),R=e("MXD1"),i=e("CFYs"),f=e("k1fw"),p=e("miYZ"),n=e("tsqr"),l=e("tJVT"),B=e("5NDa"),g=e("5rEg"),L=e("OaEy"),y=e("2fM7"),T=e("y8nQ"),h=e("Vl3Y"),O=e("q1tI"),t=e.n(O),a=e("9kvl"),$=e("uYtH"),X=e("sYde"),E=e.n(X),D=h.a.Item,F=y.a.Option,Z=g.a.Group,k={ok:t.a.createElement("div",{className:E.a.success},t.a.createElement(a.a,{id:"userandregister.strength.strong"})),pass:t.a.createElement("div",{className:E.a.warning},t.a.createElement(a.a,{id:"userandregister.strength.medium"})),poor:t.a.createElement("div",{className:E.a.error},t.a.createElement(a.a,{id:"userandregister.strength.short"}))},q={ok:"success",pass:"normal",poor:"exception"},ee=function(I){var W=I.submitting,te=I.dispatch,K=I.userAndregister,re=Object(O.useState)(0),N=Object(l.a)(re,2),j=N[0],z=N[1],ae=Object(O.useState)(!1),V=Object(l.a)(ae,2),b=V[0],J=V[1],se=Object(O.useState)("86"),H=Object(l.a)(se,2),G=H[0],ne=H[1],_e=Object(O.useState)(!1),Q=Object(l.a)(_e,2),oe=Q[0],ie=Q[1],le=!1,x,de=h.a.useForm(),ce=Object(l.a)(de,1),v=ce[0];Object(O.useEffect)(function(){if(!!K){var m=v.getFieldValue("mail");K.status==="ok"&&(n.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),a.e.push({pathname:"/user/register-result",state:{account:m}}))}},[K]),Object(O.useEffect)(function(){return function(){clearInterval(x)}},[]);var ue=function(){var r=59;z(r),x=window.setInterval(function(){r-=1,z(r),r===0&&clearInterval(x)},1e3)},Y=function(){var r=v.getFieldValue("password");return r&&r.length>9?"ok":r&&r.length>5?"pass":"poor"},Ee=function(r){te({type:"userAndregister/submit",payload:Object(f.a)(Object(f.a)({},r),{},{prefix:G})})},me=function(r,d){var M=Promise;return d&&d!==v.getFieldValue("password")?M.reject(Object(a.d)({id:"userandregister.password.twice"})):M.resolve()},ge=function(r,d){var M=Promise;return d?(b||J(!!d),ie(!oe),d.length<6?M.reject(""):(d&&le&&v.validateFields(["confirm"]),M.resolve())):(J(!!d),M.reject(Object(a.d)({id:"userandregister.password.required"})))},Oe=function(r){ne(r)},ve=function(){var r=v.getFieldValue("password"),d=Y();return r&&r.length?t.a.createElement("div",{className:E.a["progress-".concat(d)]},t.a.createElement(i.a,{status:q[d],className:E.a.progress,strokeWidth:6,percent:r.length*10>100?100:r.length*10,showInfo:!1})):null};return t.a.createElement("div",{className:E.a.main},t.a.createElement("h3",null,t.a.createElement(a.a,{id:"userandregister.register.register"})),t.a.createElement(h.a,{form:v,name:"UserRegister",onFinish:Ee},t.a.createElement(D,{name:"mail",rules:[{required:!0,message:Object(a.d)({id:"userandregister.email.required"})},{type:"email",message:Object(a.d)({id:"userandregister.email.wrong-format"})}]},t.a.createElement(g.a,{size:"large",placeholder:Object(a.d)({id:"userandregister.email.placeholder"})})),t.a.createElement(A.a,{getPopupContainer:function(r){return r&&r.parentNode?r.parentNode:r},content:b&&t.a.createElement("div",{style:{padding:"4px 0"}},k[Y()],ve(),t.a.createElement("div",{style:{marginTop:10}},t.a.createElement(a.a,{id:"userandregister.strength.msg"}))),overlayStyle:{width:240},placement:"right",visible:b},t.a.createElement(D,{name:"password",className:v.getFieldValue("password")&&v.getFieldValue("password").length>0&&E.a.password,rules:[{validator:ge}]},t.a.createElement(g.a,{size:"large",type:"password",placeholder:Object(a.d)({id:"userandregister.password.placeholder"})}))),t.a.createElement(D,{name:"confirm",rules:[{required:!0,message:Object(a.d)({id:"userandregister.confirm-password.required"})},{validator:me}]},t.a.createElement(g.a,{size:"large",type:"password",placeholder:Object(a.d)({id:"userandregister.confirm-password.placeholder"})})),t.a.createElement(Z,{compact:!0},t.a.createElement(y.a,{size:"large",value:G,onChange:Oe,style:{width:"20%"}},t.a.createElement(F,{value:"86"},"+86"),t.a.createElement(F,{value:"87"},"+87")),t.a.createElement(D,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:Object(a.d)({id:"userandregister.phone-number.required"})},{pattern:/^\d{11}$/,message:Object(a.d)({id:"userandregister.phone-number.wrong-format"})}]},t.a.createElement(g.a,{size:"large",placeholder:Object(a.d)({id:"userandregister.phone-number.placeholder"})}))),t.a.createElement(o.a,{gutter:8},t.a.createElement(C.a,{span:16},t.a.createElement(D,{name:"captcha",rules:[{required:!0,message:Object(a.d)({id:"userandregister.verification-code.required"})}]},t.a.createElement(g.a,{size:"large",placeholder:Object(a.d)({id:"userandregister.verification-code.placeholder"})}))),t.a.createElement(C.a,{span:8},t.a.createElement(P.a,{size:"large",disabled:!!j,className:E.a.getCaptcha,onClick:ue},j?"".concat(j," s"):Object(a.d)({id:"userandregister.register.get-verification-code"})))),t.a.createElement(D,null,t.a.createElement(P.a,{size:"large",loading:W,className:E.a.submit,type:"primary",htmlType:"submit"},t.a.createElement(a.a,{id:"userandregister.register.register"})),t.a.createElement($.a,{className:E.a.login,to:"/user/login"},t.a.createElement(a.a,{id:"userandregister.register.sign-in"})))))};s.default=Object(a.c)(function(U){var I=U.userAndregister,W=U.loading;return{userAndregister:I,submitting:W.effects["userAndregister/submit"]}})(ee)},sYde:function(c,s,e){c.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}}}]);
